<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SneakyTool – NFL Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background-color: #0b3d0b;
    color: #fff;
    min-height: 100vh;
  }

  header {
    text-align: center;
    padding: 20px 10px;
    background: linear-gradient(90deg, #006400, #009900);
  }

  header h1 {
    margin: 0;
    color: #e94560;
    font-size: 2rem;
    letter-spacing: 1px;
  }

  .filters {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    padding: 15px;
    background-color: #0a2e0a;
    border-bottom: 2px solid #2a7a33;
  }

  .filters select,
  .filters input {
    padding: 8px 12px;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
  }

  .cards-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px;
  }

  .card {
    background-color: #1a472a;
    border-radius: 12px;
    padding: 15px;
    width: 300px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.5);
    transition: transform 0.2s, background-color 0.2s;
  }

  .card:hover {
    transform: translateY(-5px);
    background-color: #2a7a33;
  }

  .player-name {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 5px;
  }

  .player-team {
    font-size: 0.9rem;
    color: #ffd700;
    margin-bottom: 10px;
  }

  .stat {
    background-color: #006400;
    padding: 6px 8px;
    border-radius: 5px;
    margin-bottom: 4px;
    font-size: 0.85rem;
  }

  .highlight {
    background-color: #e94560;
    font-weight: bold;
  }

  .compare-table-container {
    overflow-x: auto;
    padding: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background-color: #1a472a;
  }

  th, td {
    padding: 10px;
    border: 1px solid #2a7a33;
    text-align: center;
    font-size: 0.9rem;
  }

  th {
    background-color: #2a7a33;
    cursor: pointer;
  }

  tr:hover {
    background-color: #2f8a44;
  }

  footer {
    text-align: center;
    padding: 20px 10px;
    background-color: #0a2e0a;
    border-top: 2px solid #2a7a33;
    color: #ccc;
  }

  @media(max-width: 768px){
    .filters {
      flex-direction: column;
      align-items: center;
    }

    .cards-container {
      flex-direction: column;
      align-items: center;
    }
  }
</style>
</head>
<body>

<header>
  <h1>SneakyTool – NFL Dashboard</h1>
</header>

<div class="filters">
  <label>Team:
    <select id="teamFilter"><option value="">All</option></select>
  </label>
  <label>Position:
    <select id="positionFilter"><option value="">All</option></select>
  </label>
  <input type="text" id="searchPlayer" placeholder="Search Player">
</div>

<div class="cards-container" id="cardsContainer"></div>

<div class="compare-table-container">
  <h2>Compare Players</h2>
  <table id="compareTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Team</th>
        <th>Position</th>
        <th>Passing Yards</th>
        <th>Rushing Yards</th>
        <th>Receiving Yards</th>
        <th>TDs</th>
        <th>Fantasy Points</th>
        <th>FanDuel Salary</th>
        <th>DraftKings Salary</th>
        <th>Injury</th>
        <th>Week</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<footer>&copy; 2025 SneakyTool</footer>

<script>
let playersData = [];
let compareSelection = [];

const cardsContainer = document.getElementById('cardsContainer');
const compareTableBody = document.querySelector('#compareTable tbody');
const teamFilter = document.getElementById('teamFilter');
const positionFilter = document.getElementById('positionFilter');
const searchPlayer = document.getElementById('searchPlayer');

fetch('players.json')
  .then(res => res.json())
  .then(data => {
    playersData = data.players;
    populateFilters(playersData);
    renderCards(playersData);
  })
  .catch(err => console.error('Error loading JSON:', err));

function renderCards(data) {
  cardsContainer.innerHTML = '';
  data.forEach(p => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <div class="player-name">${p.Name || '-'}</div>
      <div class="player-team">${p.Team || '-'} | ${p.Position || '-'}</div>
      <div>
        <button onclick="toggleCompare(${p.PlayerID})">${compareSelection.includes(p.PlayerID) ? 'Remove' : 'Compare'}</button>
      </div>
      <div class="stats">
        <div class="stat">Passing: ${p.PassingYards || 0}</div>
        <div class="stat">Rushing: ${p.RushingYards || 0}</div>
        <div class="stat">Receiving: ${p.ReceivingYards || 0}</div>
        <div class="stat">TDs: ${p.Touchdowns || 0}</div>
        <div class="stat highlight">FP: ${p.FantasyPoints || 0}</div>
        <div class="stat">FD: ${p.FanDuelSalary || 0}</div>
        <div class="stat">DK: ${p.DraftKingsSalary || 0}</div>
        <div class="stat">Injury: ${p.InjuryStatus || '-'}</div>
        <div class="stat">Week: ${p.Week || '-'}</div>
      </div>
    `;
    cardsContainer.appendChild(div);
  });
  renderCompareTable();
}

function populateFilters(data) {
  const teams = [...new Set(data.map(p => p.Team))];
  const positions = [...new Set(data.map(p => p.Position))];

  teams.forEach(t => {
    const opt = document.createElement('option');
    opt.value = t;
    opt.textContent = t;
    teamFilter.appendChild(opt);
  });

  positions.forEach(pos => {
    const opt = document.createElement('option');
    opt.value = pos;
    opt.textContent = pos;
    positionFilter.appendChild(opt);
  });
}

function applyFilters() {
  const team = teamFilter.value;
  const position = positionFilter.value;
  const search = searchPlayer.value.toLowerCase();

  const filtered = playersData.filter(p => 
    (!team || p.Team === team) &&
    (!position || p.Position === position) &&
    (!search || p.Name.toLowerCase().includes(search))
  );
  renderCards(filtered);
}

function toggleCompare(playerID) {
  if(compareSelection.includes(playerID)) {
    compareSelection = compareSelection.filter(id => id !== playerID);
  } else {
    compareSelection.push(playerID);
  }
  renderCompareTable();
  renderCards(playersData); // update buttons
}

function renderCompareTable() {
  compareTableBody.innerHTML = '';
  compareSelection.forEach(id => {
    const p = playersData.find(pl => pl.PlayerID === id);
    if(!p) return;
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${p.Name}</td>
      <td>${p.Team}</td>
      <td>${p.Position}</td>
      <td>${p.PassingYards}</td>
      <td>${p.RushingYards}</td>
      <td>${p.ReceivingYards}</td>
      <td
